# üéÆ Spy Game Telegram Bot

–¢–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç –¥–ª—è –∏–≥—Ä—ã "–®–ø–∏–æ–Ω" —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —è–∑—ã–∫–æ–≤.

[![Python](https://img.shields.io/badge/Python-3.11-blue.svg)](https://www.python.org/)
[![aiogram](https://img.shields.io/badge/aiogram-3.x-blue.svg)](https://docs.aiogram.dev/)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-15-blue.svg)](https://www.postgresql.org/)
[![Docker](https://img.shields.io/badge/Docker-ready-blue.svg)](https://www.docker.com/)

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üéÆ –ò–≥—Ä–∞ "–®–ø–∏–æ–Ω" –¥–ª—è –≥—Ä—É–ø–ø (4-10 –∏–≥—Ä–æ–∫–æ–≤, –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è)
- üåç –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å (—Ä—É—Å—Å–∫–∏–π üá∑üá∫, –∞–Ω–≥–ª–∏–π—Å–∫–∏–π üá¨üáß, –∞–∑–µ—Ä–±–∞–π–¥–∂–∞–Ω—Å–∫–∏–π üá¶üáø)
- ‚öôÔ∏è –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–≥—Ä—ã –¥–ª—è –∫–∞–∂–¥–æ–π –≥—Ä—É–ø–ø—ã
- üìç 30+ –≥–æ—Ç–æ–≤—ã—Ö –ª–æ–∫–∞—Ü–∏–π + –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ–±–∞–≤–ª—è—Ç—å —Å–≤–æ–∏
- üïµÔ∏è –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —à–ø–∏–æ–Ω–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 20%)
- üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–∏ –≤—Å—Ç—É–ø–ª–µ–Ω–∏–∏ –≤ –≥—Ä—É–ø–ø—É
- üéØ –°–∏—Å—Ç–µ–º–∞ –æ—á–µ—Ä–µ–¥–Ω–æ—Å—Ç–∏ –∏–≥—Ä–æ–∫–æ–≤
- üê≥ Docker-ready –¥–ª—è –ª—ë–≥–∫–æ–≥–æ –¥–µ–ø–ª–æ—è
- üöÄ CI/CD —Å GitHub Actions

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –æ—Ç [@BotFather](https://t.me/BotFather)

### 2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ .env:
```bash
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env, –¥–æ–±–∞–≤—å—Ç–µ BOT_TOKEN
```

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ:

**Windows:**
```bash
start.bat
```

**Linux/Mac:**
```bash
chmod +x start.sh
./start.sh
```

**–ò–ª–∏:**
```bash
docker compose up -d
```

### üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
- [QUICKSTART.md](QUICKSTART.md) - –ó–∞ 5 –º–∏–Ω—É—Ç –∫ –∏–≥—Ä–µ!
- [SETUP.md](SETUP.md) - –ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
- [GHCR_SETUP.md](GHCR_SETUP.md) - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ GitHub Container Registry
- [COMMANDS.md](COMMANDS.md) - –í—Å–µ –∫–æ–º–∞–Ω–¥—ã Docker/–ë–î
- [CHECKLIST.md](CHECKLIST.md) - –ß–µ–∫–ª–∏—Å—Ç –¥–µ–ø–ª–æ—è

## üì¶ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Python 3.11** - –æ—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫
- **aiogram 3.x** - —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è Telegram Bot API
- **PostgreSQL 15** - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **SQLAlchemy 2.0** - ORM
- **Alembic** - –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
- **Docker & Docker Compose** - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
- **GitHub Container Registry (GHCR)** - —Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ–±—Ä–∞–∑–æ–≤
- **GitHub Actions** - CI/CD —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–±–æ—Ä–∫–æ–π –∏ –¥–µ–ø–ª–æ–µ–º

## üéØ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç —Å–ª–µ–¥—É–µ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º –ø—Ä–∞–∫—Ç–∏–∫–∞–º:
- **Repository Pattern** –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î
- **Middleware** –¥–ª—è –∏–Ω—ä–µ–∫—Ü–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- **–ò–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è** —á–µ—Ä–µ–∑ JSON —Ñ–∞–π–ª—ã
- **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –º–æ–¥—É–ª–∏** (handlers, keyboards, utils)
- **Async/await** –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [SETUP.md](SETUP.md) - –ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ
- [COMMANDS.md](COMMANDS.md) - –í—Å–µ –∫–æ–º–∞–Ω–¥—ã Docker, –ë–î, –∏ –æ—Ç–ª–∞–¥–∫–∏
- [README.md](README.md) - –≠—Ç–æ—Ç —Ñ–∞–π–ª

## üìã –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

### –î–ª—è –≤—Å–µ—Ö:
- `/start` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤ —Å–∏—Å—Ç–µ–º–µ
- `/help` - –ü–æ–º–æ—â—å –∏ –ø—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã

### –î–ª—è –∞–¥–º–∏–Ω–æ–≤ –≥—Ä—É–ø–ø—ã:
- `/settings [—è–∑—ã–∫ –º–∏–Ω –º–∞–∫—Å %]` - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–≥—Ä—ã
- `/addlocation –†–£ | EN | AZ` - –î–æ–±–∞–≤–∏—Ç—å –ª–æ–∫–∞—Ü–∏—é
- `/startgame` - –ù–∞—á–∞—Ç—å –Ω–∞–±–æ—Ä –∏–≥—Ä–æ–∫–æ–≤
- `/endregister` - –ó–∞–≤–µ—Ä—à–∏—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –∏ –Ω–∞—á–∞—Ç—å –∏–≥—Ä—É
- `/next` - –°–ª–µ–¥—É—é—â–∏–π –∏–≥—Ä–æ–∫ –≤ –æ—á–µ—Ä–µ–¥–∏
- `/endgame` - –ó–∞–≤–µ—Ä—à–∏—Ç—å –∏–≥—Ä—É

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
spy-game/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ bot/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ handlers/      # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥ (user, admin, game)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ keyboards/     # –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã (inline, reply)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ middlewares/   # Middleware (database, i18n)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ filters/       # –§–∏–ª—å—Ç—Ä—ã (admin check)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ utils/         # –£—Ç–∏–ª–∏—Ç—ã (game logic)
‚îÇ   ‚îú‚îÄ‚îÄ database/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models.py      # SQLAlchemy –º–æ–¥–µ–ª–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ database.py    # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ repositories/  # –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ (user, group, location, game)
‚îÇ   ‚îú‚îÄ‚îÄ locales/           # –ü–µ—Ä–µ–≤–æ–¥—ã (ru.json, en.json, az.json)
‚îÇ   ‚îú‚îÄ‚îÄ config.py          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (Pydantic Settings)
‚îÇ   ‚îî‚îÄ‚îÄ main.py            # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ migrations/            # Alembic –º–∏–≥—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ scripts/               # –°–∫—Ä–∏–ø—Ç—ã (populate_locations.py)
‚îú‚îÄ‚îÄ .github/workflows/     # CI/CD (deploy.yml)
‚îú‚îÄ‚îÄ docker-compose.yml     # Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ Dockerfile             # Docker –æ–±—Ä–∞–∑ –±–æ—Ç–∞
‚îî‚îÄ‚îÄ requirements.txt       # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:
- Python 3.11
- aiogram 3.x
- PostgreSQL
- SQLAlchemy 2.0
- Alembic –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–π
